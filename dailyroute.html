<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Directions Service</title>

    <!-- font -->
    <link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet">
    
    <!-- Bootstrap core CSS -->
    <link href="https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/jumbotron.css" rel="stylesheet">

    <!-- material icons -->
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>

    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }

    </style>
  </head>
  

  <body class="">
    <div class="globe-cover text-center" style="margin: 50vh auto;">
      <img src="img/gif/globe.gif">
    </div>
    <div class="daily-route-cover d-none">
    <header class="blog-header">
      <div class="row flex-nowrap justify-content-between align-items-center">
        <div class="col-2 pt-1">
          <a class="text-muted" href="index.html"><img class="header-logo" src="img/logo.png" alt=""></a>
        </div>
        <div class="col-6 text-center">
          <div class="row">
            <div class="col-6">
              <a class="header-button text-white btn btn-custom btn-info" href="regularroute.html">Regular Route</a>
            </div>
            <div class="col-6">
              <a class="header-button text-white btn btn-custom btn-info active" href="dailyroute.html">Daily Route</a>
            </div>
          </div>
        </div>
        <div class="col-2 d-flex justify-content-end align-items-center">
          <!-- <a class="text-muted" href="#">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-3"><circle cx="10.5" cy="10.5" r="7.5"></circle><line x1="21" y1="21" x2="15.8" y2="15.8"></line></svg>
          </a> -->
          <img src="img/battery-white.png" style="height: 18px; margin-right: 8px;" alt="">
          <a class="btn btn-sm btn-outline-secondary" href="#"><img src="img/icon/perm_identity-24px.svg" alt=""></a>
        </div>
      </div>
    </header>

      <div class="jumbotron jumbotron-dark">
        <div class="container">
          <!-- <h5 class="display-6 text-center">Daily Route</h5> -->
          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 col-12">
              <div class="material-group-input">
                <img src="img/icon/place-24px.svg" class="mt-1 p-1" alt="">
                <div class="home-search-input float-left">
                  <input class="material-input" type="text" value="Home" required>
                  <span class="material-highlight"></span>
                  <span class="material-bar"></span>
                  <label class="material-label">Start</label>
                </div>
              </div>
            </div>
          </div>

          <div class="row mt-1">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 col-12">
              <div class="material-group-input">
                <img src="img/icon/search-24px.svg" class="mt-1 p-1" alt="">
                <div class="home-search-input float-left">
                  <input class="material-input" type="text" value="Work" placeholder="Where to?" required>
                  <span class="material-highlight"></span>
                  <span class="material-bar"></span>
                  <label class="material-label">Destination</label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="map"></div>
    <footer class="footer-sticky-bottom d-none">
      <div class="container footer-sticky-bottom-container">
        <a data-toggle="modal" data-target="#exampleModalCenter">
          <span class="text-muted">Charging Recommendation</span>
        </a>
      </div>
    </footer>


    <!-- MODAL -->
    <div id="modal1" class="modal-custom modal fade bd-example-modal-lg" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg zoomInUp" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Charging Recommendations</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            
            <!-- TABLE -->
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Time</th>
                  <th scope="col">Cost/KW</th>
                  <th scope="col">Carbon</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">1</th>
                  <td>12am-3pm</td>
                  <td>$0.17</td>
                  <td>0</td>
                </tr>
                <tr>
                  <th scope="row">2</th>
                  <td>3pm-4pm</td>
                  <td>$0.37</td>
                  <td>0</td>
                </tr>
                <tr>
                  <th scope="row">3</th>
                  <td>9pm-12am</td>
                  <td>$.48</td>
                  <td>0</td>
                </tr>
              </tbody>
            </table>
            
          </div>
        </div>
      </div>
    </div>


    <div id="modal2" class="modal-custom modal fade bd-example-modal-lg" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg zoomInUp" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Charging Recommendations</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            
            <!-- TABLE -->
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Time</th>
                  <th scope="col">Cost/KW</th>
                  <th scope="col">Carbon</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">1</th>
                  <td>All</td>
                  <td>$0.16</td>
                  <td>64.75 grams CO<sub>2</sub></td>
                </tr>
              </tbody>
            </table>
            
          </div>
        </div>
      </div>
    </div>
    </div>
    <script>
      function initMap() {
        var directionsService = new google.maps.DirectionsService();
        var directionsRenderer = new google.maps.DirectionsRenderer();
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 7,
          center: {lat: 41.85, lng: -87.65}
        });


        var image = 'pin.png';
        var maker = new google.maps.Marker({
          position: {lat: 37.392055, lng: -122.080913},
          map: map,
          icon: image
        });

        maker.addListener('click', function() {
          $('#modal1').modal(open);
        });

        var maker2 = new google.maps.Marker({
          position: {lat: 37.350833, lng: -121.966906},
          map: map,
          icon: image
        });
        
        maker2.addListener('click', function() {
          $('#modal2').modal(open);
        });

        var maker3 = new google.maps.Marker({
          position: {lat: 37.360964, lng: -121.956042},
          map: map,
          icon: image
        });

        maker3.addListener('click', function() {
          $('#modal2').modal(open);
        });

        var maker4 = new google.maps.Marker({
          position: {lat: 37.393861, lng: -122.086140},
          map: map,
          icon: image
        });

        maker4.addListener('click', function() {
          $('#modal1').modal(open);
        });

        directionsRenderer.setMap(map);
        directionsService.route(
            {
              origin: {query: 'santa clara, CA'},
              destination: {query: '590 Castro St, Mountain View, CA 94041'},
              travelMode: 'DRIVING'
            },
            function(response, status) {
              if (status === 'OK') {
                directionsRenderer.setDirections(response);
              } else {
                window.alert('Directions request failed due to ' + status);
              }
            });
      }

      function calculateAndDisplayRoute(directionsService, directionsRenderer) {
        directionsService.route(
            {
              origin: {query: document.getElementById('start').value},
              destination: {query: document.getElementById('end').value},
              travelMode: 'DRIVING'
            },
            function(response, status) {
              if (status === 'OK') {
                directionsRenderer.setDirections(response);
              } else {
                window.alert('Directions request failed due to ' + status);
              }
            });
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDUWnYlScqZECUyVrGhD056n4_YB8m_sUA&callback=initMap">
    </script>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script
    src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous"></script>
    <script src="https://getbootstrap.com/docs/4.0/assets/js/vendor/popper.min.js"></script>
    <script src="https://getbootstrap.com/docs/4.0/dist/js/bootstrap.min.js"></script>
    
    <!-- animate lib -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet">


    <script>
        $(document).ready(function() {
          setUpModalAnimation();
          setTimeout(function() {
            $('.daily-route-cover').removeClass('d-none').fadeIn();
            $('.globe-cover').addClass('d-none').fadeOut();
          },1000);
        });
        function setUpModalAnimation() {
          $('.modal-custom').on('show.bs.modal', function (e) {
            $('.modal-custom .modal-dialog').attr('class', 'modal-dialog  rollIn  animated');
          });
          $('.modal-custom').on('hide.bs.modal', function (e) {
            $('.modal-custom .modal-dialog').attr('class', 'modal-dialog  rollOut  animated');
          });
        }
    </script>
  </body>
</html>